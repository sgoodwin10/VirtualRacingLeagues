parameters:
    level: 8
    paths:
        - app
        - config
        - database
        - routes
    scanFiles:
        - _ide_helper.php
        - .phpstorm.meta.php
    excludePaths:
        - bootstrap/cache
        - storage
        - vendor
    ignoreErrors:
        # Laravel Eloquent relationship covariance issues - known false positives
        -
            message: '#should return .+ but returns .+\$this\(.+\)>#'
            path: app/Infrastructure/Persistence/Eloquent/Models/*
        # Laravel Model fillable property type covariance
        -
            message: '#PHPDoc type array<string> of property .+::\$fillable is not covariant#'
            path: app/Infrastructure/Persistence/Eloquent/Models/*
        # Laravel Route facade - name() method on array|Route
        -
            message: '#Cannot call method name\(\) on array\|Illuminate\\Routing\\Route#'
            path: routes/subdomain.php
        # Undefined $this in console routes (Laravel closure context)
        -
            message: '#Undefined variable: \$this#'
            path: routes/console.php
        # Eloquent dynamic methods (where, create, firstOrCreate, etc.)
        -
            message: '#Call to an undefined static method .+Eloquent::(where|create|firstOrCreate|find)\(\)#'
        # Object property access in seeders (Laravel factory returns)
        -
            message: '#Access to an undefined property object::\$id#'
            path: database/seeders/*
        # Unused methods in domain entities (used via events/reflection)
        -
            message: '#Method .+::recordEvent\(\) is unused#'
        # Laravel Auth Guard method resolution
        -
            message: '#Call to an undefined method Illuminate\\Contracts\\Auth\\Guard::(login|logout|attempt)\(\)#'
        # Always false negation checks (from PHPDoc types)
        -
            message: '#Negated boolean expression is always false#'
        # Laravel Filesystem URL method
        -
            message: '#Call to an undefined method Illuminate\\Contracts\\Filesystem\\Filesystem::url\(\)#'
        # Strict comparison issues in domain services
        -
            message: '#Strict comparison using !== between mixed and null will always evaluate to true#'
        # Helper function undefined method calls (SiteConfig getters)
        -
            message: '#Call to an undefined method App\\Domain\\SiteConfig\\Entities\\SiteConfig::get.+\(\)#'
            path: app/Helpers/site_config.php
        # Missing type hints for array parameters (will fix gradually)
        -
            message: '#has parameter \$.+ with no (value type specified in iterable type array|type specified)#'
        # If condition always false (from strict type checking)
        -
            message: '#If condition is always false#'
        # Unused @throws tags (exceptions thrown by repository layer)
        -
            message: '#has .+Exception in PHPDoc @throws tag but it''s not thrown#'
        # Return type issues in value objects (nullable intermediate values)
        -
            message: '#should return string but returns string\|null#'
            path: app/Domain/*/ValueObjects/*
        # Argument type issues with preg_replace and nullable strings
        -
            message: '#of function (preg_replace|trim) expects .+, string\|null given#'
            path: app/Domain/*/ValueObjects/*
        # Hash::make with nullable password
        -
            message: '#of static method .+Hash::make\(\) expects string, string\|null given#'
        # Offset access in pagination metadata
        -
            message: '#Offset ''last_page'' does not exist on array#'
            path: app/Application/*/Services/*
        # Platform Eloquent static methods
        -
            message: '#Call to an undefined static method .+Platform::(find|findOrFail)\(\)#'
        # Static method calls on exception classes
        -
            message: '#Call to an undefined static method .+Exception::(notFound|withId|withEmail)\(\)#'
        # Migration missing return types
        -
            message: '#Method .+(up|down)\(\) has no return type specified#'
            paths:
                - database/migrations/*
                - database/migrations.backup/*
        # ForeignKeyDefinition comment method (Laravel magic)
        -
            message: '#Call to an undefined method .+ForeignKeyDefinition::comment\(\)#'
            path: database/migrations/*
        # SiteConfigModel Eloquent methods
        -
            message: '#Call to an undefined static method .+SiteConfigModel::(where|create)#'
            path: database/seeders/*
        # Eloquent model property access (dynamic properties)
        -
            message: '#Access to an undefined property .+Eloquent::\$.+#'
        # Eloquent model static methods (query builder, finders, etc.)
        -
            message: '#Call to an undefined static method .+Eloquent::(query|with|where|orderBy|latest|oldest|paginate|get|all|pluck|count|exists|doesntExist|cursor|chunk|each|lazy|lazyById|sole|first|firstWhere|firstOr|firstOrFail|findMany|findOrNew|firstOrNew|firstOrCreate|updateOrCreate|when|tap|unless)#'
        # Eloquent model methods (save, update, delete, etc.)
        -
            message: '#Call to an undefined method .+Eloquent::(save|update|delete|forceDelete|restore|fresh|refresh|replicate|is|isNot|fill|forceFill)#'
        # Controller undefined methods (fromRequest, etc.)
        -
            message: '#Call to an undefined static method .+(Data|Request)::(from|fromRequest|validate|validated|validateAndCreate)#'
        # Request undefined properties
        -
            message: '#Access to an undefined property .+Request::\$.+#'
        # Activity log class not found (Spatie package)
        -
            message: '#Class Spatie\\Activitylog\\Models\\Activity not found#'
        # HasFactory trait generic type usage
        -
            message: '#uses generic trait .+HasFactory but does not specify its types#'
        # Eloquent model and other Laravel model types
        -
            message: '#(Access to an undefined property|Call to an undefined method|Call to an undefined static method) .+(Model|Competition|Driver|League|Platform|PlatformTrack|Season|User|Admin|Request)::#'
